if (rx_buffer[0] != 0xFF)
//  	{
////  		int offset_val = float_2_bits(&a);
////		uint8_t tx_buffer[sizeof(int)+2] = {(uint8_t) (0x1), (uint8_t)((offset_val>>0)&0xFF), (uint8_t)((offset_val>>8)&0xFF), (uint8_t)((offset_val>>16)&0xFF), (uint8_t)((offset_val>>24)&0xFF),'\n'};
////		HAL_UART_Transmit(&huart6, &tx_buffer, 6, 1);
//
//  		uint8_t error_check1 = ((0x88 & rx_buffer[0]) ^ 0x08); //if 0 the bits 0 & 4 -> signal is correct
//  		uint8_t error_check2 = (((rx_buffer[0]>>4) & 0x01) ^ (rx_buffer[0] & 0x01)); //if 0 the bits 0 & 4 -> signal is correct
//
//  		uint8_t send_cords = ((0x11 & rx_buffer[0]) ^ 0x11); //if 0 then check cords
//  		curr_signal = rx_buffer[0];
//		if ((error_check1 | error_check2) == 0x0){
//			if (send_cords == 0x0){
//				int offset_val = float_2_bits(&a);
//				uint8_t tx_buffer[sizeof(int)+2] = {(uint8_t) (0x1), (uint8_t)((offset_val>>0)&0xFF), (uint8_t)((offset_val>>8)&0xFF), (uint8_t)((offset_val>>16)&0xFF), (uint8_t)((offset_val>>24)&0xFF),(uint8_t)'\n'};
//				HAL_UART_Transmit(&huart6, &tx_buffer, 6, 1);
//				int offset_val2 = float_2_bits(&b);
//				uint8_t tx_buffer2[sizeof(int)+2] = {(uint8_t) (0x2),(uint8_t)((offset_val2>>0)&0xFF), (uint8_t)((offset_val2>>8)&0xFF), (uint8_t)((offset_val2>>16)&0xFF), (uint8_t)((offset_val2>>24)&0xFF),(uint8_t)'\n'};
//	  //			HAL_UART_Transmit(&huart6, &tx_buffer, 6, 1);
//				HAL_Delay(5);
//				HAL_UART_Transmit(&huart6, &tx_buffer2, 6, 1);
//	  //			rx_buffer[0] = signal_code;
//				rx_buffer[0] = 0xFF;
//			}
//			else{
//				//send pulse to gpio
//				j = 0;
//				while (j == 0){
//					htim1.Instance->CNT = i;
//					htim12.Instance->CNT = i;
//					if (i>(htim1.Instance->ARR-1)){
//						  i = 0;
//						  j++;
//					  }
//				}
//				uint8_t sucess_code = signal_code | rx_buffer[0];
//				HAL_UART_Transmit(&huart6, &sucess_code, 1, 1);
//				rx_buffer[0] = 0xFF;
//			}
//
//		}
//		else
//		{
//			uint8_t error_code = signal_code | 0x11;
//			HAL_UART_Transmit(&huart6, &error_code, 1, 1);
//			error_code = 0x0a;
//			HAL_UART_Transmit(&huart6, &error_code, 1, 1);
//			rx_buffer[0] = 0xFF;
//		}
//  	}
  /////////////////////////////////////////////////////////////////////////////////////////////

	//PWM testing
//	  htim1.Instance->CCR1 = 30;
//	  htim1.Instance->CCR4 = 2;
//	  htim12.Instance->CCR1 = 2;
//	  while((j%10) == 0){
//	  if(j < 10){
//		  htim1.Instance->CNT = i;
//		  htim12.Instance->CNT = i;
//		  i++;
//		  if (i>(htim1.Instance->ARR-1)){
//			  i = 0;
//			  j++;
//		  }
//	  }
//	  else{
////		  HAL_TIM_PWM_Stop(&htim1, TIM_CHANNEL_4);
////		  HAL_TIM_PWM_Stop(&htim12, TIM_CHANNEL_1);
////		  break;
//		  htim1.Instance->CNT = 0;
//		  htim12.Instance->CNT = 0;
////		  j++;
////		  if (j > 1000){
////			  j = 0;
////		  }
//	  }


//	  if ((j%10)==0){
//		  htim1.Instance->CNT = 26;
//		  htim12.Instance->CNT = 26;
//		  i++;
//		  if (i>49){
//			  i = 0;
//			  j=1;
//		  }
//	  }
//	  else{
//		  htim1.Instance->CNT = 0;
//		  htim12.Instance->CNT = 0;
//		  i++;
//		  if(i>49){
//			  i = 0;
//			  j++;
//		  }
